{
  "resourceType": "StructureDefinition",
  "id": "cied-connectivity-status",
  "url": "http://hl7.org/fhir/uv/cardx-cied/StructureDefinition/cied-connectivity-status",
  "name": "CIEDConnectivityStatus",
  "title": "Observation - CIED Connectivity",
  "status": "active",
  "description": "\nProfile of the observation resource to present the most recent connectivity status and associated information for a CIED/Monitor pair.\n\nCIEDs and monitors connect at regular intervals to exchange data ranging from every few minutes to every other week depending on the device/monitor configuration and manufacturer. The connectivity observation profile is a snapshot in time and is not intended to be used to query historical log information that may have been captured by the remote monitoring IoT platform. A single observation will be returned for every CIED/monitor pair.\n",
  "fhirVersion": "5.0.0",
  "kind": "resource",
  "abstract": false,
  "type": "Observation",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Observation",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Observation.status",
        "path": "Observation.status",
        "mustSupport": true
      },
      {
        "id": "Observation.code",
        "path": "Observation.code",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "observation-cied-connectivity",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        },
        "mustSupport": true
      },
      {
        "id": "Observation.subject",
        "path": "Observation.subject",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/uv/cardx-cied/StructureDefinition/cied-patient"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Observation.effective[x]",
        "path": "Observation.effective[x]",
        "min": 1,
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Observation.note",
        "path": "Observation.note",
        "short": "Text describing why the patient is listed at a given status and/or steps that can be taken to restore connectivity",
        "mustSupport": true
      },
      {
        "id": "Observation.device",
        "path": "Observation.device",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/uv/cardx-cied/StructureDefinition/cied-device"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Observation.component",
        "path": "Observation.component",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "short": "CIED Connectivity Components",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Observation.component.code",
        "path": "Observation.component.code",
        "mustSupport": true
      },
      {
        "id": "Observation.component.value[x]",
        "path": "Observation.component.value[x]",
        "mustSupport": true
      },
      {
        "id": "Observation.component:connectivityStatus",
        "path": "Observation.component",
        "sliceName": "connectivityStatus",
        "short": "The overall system connectivity status as calculated by the CIED manufacturer",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:connectivityStatus.code",
        "path": "Observation.component.code",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "connectivity-status",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:connectivityStatus.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/uv/cardx-cied/ValueSet/cied-connectivity-state-vs"
        }
      },
      {
        "id": "Observation.component:connectivityModifier",
        "path": "Observation.component",
        "sliceName": "connectivityModifier",
        "short": "Additional modifiers to connectivity status as calculated by the CIED manufacturer",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Observation.component:connectivityModifier.code",
        "path": "Observation.component.code",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "connectivity-modifier",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:connectivityModifier.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/uv/cardx-cied/ValueSet/cied-connectivity-state-modifier-vs"
        }
      },
      {
        "id": "Observation.component:lastCiedConnectivityDate",
        "path": "Observation.component",
        "sliceName": "lastCiedConnectivityDate",
        "short": "The timestamp of the most recent communication between the CIED and monitor.",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:lastCiedConnectivityDate.code",
        "path": "Observation.component.code",
        "short": "CIED to monitor communication",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "last-cied-connectivity-time",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:lastCiedConnectivityDate.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "Observation.component:lastMonitorConnectivityDate",
        "path": "Observation.component",
        "sliceName": "lastMonitorConnectivityDate",
        "short": "The timestamp of the most recent communication from the monitor to the remote monitoring platform.",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:lastMonitorConnectivityDate.code",
        "path": "Observation.component.code",
        "short": "Monitor to remote monitoring communication",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "last-monitor-connectivity-time",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:lastMonitorConnectivityDate.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "Observation.component:nextCiedConnectivityDate",
        "path": "Observation.component",
        "sliceName": "nextCiedConnectivityDate",
        "short": "The timestamp of the next expected communication between the CIED and monitor.",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:nextCiedConnectivityDate.code",
        "path": "Observation.component.code",
        "short": "Next CIED to monitor communication",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "next-cied-connectivity-date",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:nextCiedConnectivityDate.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "Observation.component:nextMonitorConnectivityDate",
        "path": "Observation.component",
        "sliceName": "nextMonitorConnectivityDate",
        "short": "The timestamp of the next expected communication from the monitor to the remote monitoring platform.",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:nextMonitorConnectivityDate.code",
        "path": "Observation.component.code",
        "short": "Next monitor to remote monitoring communication",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "next-monitor-connectivity-date",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:nextMonitorConnectivityDate.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "Observation.component:lastRemoteInterrogationDate",
        "path": "Observation.component",
        "sliceName": "lastRemoteInterrogationDate",
        "short": "The date of the most recent remote device interrogation with a personal monitor",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:lastRemoteInterrogationDate.code",
        "path": "Observation.component.code",
        "short": "The date of the most recent remote device interrogation with a personal monitor",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "last-interrogation-date",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:lastRemoteInterrogationDate.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "Observation.component:nextScheduledRemoteInterrogationDate",
        "path": "Observation.component",
        "sliceName": "nextScheduledRemoteInterrogationDate",
        "short": "The date of the next scheduled remote device interrogation",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:nextScheduledRemoteInterrogationDate.code",
        "path": "Observation.component.code",
        "short": "The date of the next scheduled remote device interrogation",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "next-interrogation-date",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:nextScheduledRemoteInterrogationDate.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "dateTime"
          }
        ]
      },
      {
        "id": "Observation.component:connectionInterval",
        "path": "Observation.component",
        "sliceName": "connectionInterval",
        "short": "The time interval in days between expected CIED and remote monitoring software communication",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Observation.component:connectionInterval.code",
        "path": "Observation.component.code",
        "short": "The time interval in days between expected CIED and remote monitoring software communication",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "connection-interval",
              "system": "http://hl7.org/fhir/uv/cardx-cied/CodeSystem/cied-connectivity"
            }
          ]
        }
      },
      {
        "id": "Observation.component:connectionInterval.value[x]",
        "path": "Observation.component.value[x]",
        "type": [
          {
            "code": "integer"
          }
        ]
      }
    ]
  }
}
